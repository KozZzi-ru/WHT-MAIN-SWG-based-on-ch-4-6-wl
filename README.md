# badjeff-driver — экспериментальная ветка с альтернативным драйвером PMW3610

**Экспериментальная** версия прошивки для Charybdis 4x6 wireless MK1 WHITE с драйвером трекбола PMW3610 от **badjeff**.

---

## Основное отличие от main

В этой ветке используется **альтернативный драйвер трекбола** из форка badjeff вместо стандартного от inorichi.

### Версии драйверов (config/west.yml)

- **ZMK:** `v0.3-branch` от zmkfirmware
- **Драйвер трекбола PMW3610:** `main` от **badjeff** ([zmk-pmw3610-driver](https://github.com/badjeff/zmk-pmw3610-driver))

**Отличие от main:**
- `main` использует драйвер от [inorichi/zmk-pmw3610-driver](https://github.com/inorichi/zmk-pmw3610-driver)
- `badjeff-driver` использует драйвер от [badjeff/zmk-pmw3610-driver](https://github.com/badjeff/zmk-pmw3610-driver)

---

## Зачем нужна эта ветка

1. **Тестирование альтернативных реализаций** — драйвер badjeff может содержать улучшения, фиксы или экспериментальные фичи, отсутствующие в драйвере inorichi.

2. **Выбор лучшего решения** — можно сравнить поведение трекбола на двух драйверах и выбрать более стабильный/отзывчивый вариант.

3. **Резервный вариант** — если один из драйверов перестанет поддерживаться или обновляться, есть рабочая альтернатива.

---

## Кеймап и раскладка

Кеймап **идентичен основной ветке `main`:**

- 6 слоёв: `QWERTY`, `num_and_fun`, `auto_mouse`, `snipe_layer`, `corrections`, `set_bt`
- Макросы на русском: `&phrase_proshu`, `&phrase_spasibo`
- Комбо-клавиши для скобок, знаков, навигации
- Настройки мыши: `mmv_slow` для точного управления курсором

Подробное описание кеймапа смотри в ветке [main](https://github.com/KozZzi-ru/WHT-MAIN-SWG-based-on-ch-4-6-wl/tree/main).

---

## Как использовать

### 1. Скачай прошивку

- Открой вкладку **Actions** в репозитории GitHub
- Выбери workflow для ветки `badjeff-driver`
- Скачай артефакт **`firmware_WHT_SVG`** или **`firmware_WHT`**

### 2. Прошей клавиатуру

- Переведи каждую половину в режим бутлоадера (двойное нажатие reset/boot)
- Скопируй соответствующий `.uf2` файл на USB-диск
- После перезагрузки клавиатура заработает с драйвером badjeff

### 3. Проверь трекбол

- Убедись, что курсор двигается плавно
- Проверь точность и чувствительность
- Протестируй скролл и клики

---

## Когда использовать эту ветку

**Используй `badjeff-driver`, если:**

- Драйвер inorichi (из `main`) работает нестабильно
- Хочешь протестировать новые фичи из форка badjeff
- Нужна альтернативная реализация для диагностики проблем

**Используй `main`, если:**

- Текущая прошивка работает без проблем
- Нужна стабильная проверенная версия для повседневной работы
- Не требуется экспериментальный функционал

---

## Известные проблемы

⚠️ **Эта ветка экспериментальная!**

- Драйвер badjeff может содержать нестабильный код
- Возможны неожиданные баги или изменения в поведении трекбола
- Не рекомендуется для критически важных задач без предварительного тестирования

---

## Возврат на main

Чтобы вернуться к стандартному драйвeru inorichi:

1. Скачай прошивку из ветки `main`
2. Прошей клавиатуру тем же способом
3. Никаких дополнительных действий не требуется — железо не изменяется необратимо

---

## Ссылки

- **Основная ветка:** [main](https://github.com/KozZzi-ru/WHT-MAIN-SWG-based-on-ch-4-6-wl/tree/main)
- **Драйвер badjeff:** [badjeff/zmk-pmw3610-driver](https://github.com/badjeff/zmk-pmw3610-driver)
- **Драйвер inorichi:** [inorichi/zmk-pmw3610-driver](https://github.com/inorichi/zmk-pmw3610-driver)
- **ZMK Firmware:** [zmkfirmware/zmk](https://github.com/zmkfirmware/zmk)
